{"ast":null,"code":"import{Wrapper}from\"./Wrapper\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Products=()=>{const[products,setProducts]=useState([]);useEffect(()=>{(async()=>{const response=await fetch('http://localhost:8000/products');const content=await response.json();setProducts(content);})();},[]);const del=async id=>{if(window.confirm('Are you sure to delete this record?')){await fetch(\"http://localhost:8000/products/\".concat(id),{method:'DELETE'});setProducts(products.filter(p=>p.id!==id));}};return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 pb-2 mb-3 border-bottom\",children:/*#__PURE__*/_jsx(Link,{to:\"/create\",className:\"btn btn-sm btn-outline-secondary\",children:\"Add\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.quantity}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-sm btn-outline-secondary\",onClick:e=>del(product.id),children:\"Delete\"})})]},product.id);})})]})})]});};","map":{"version":3,"names":["Wrapper","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","response","fetch","content","json","del","id","window","confirm","concat","method","filter","p","children","className","to","scope","map","product","name","price","quantity","href","onClick","e"],"sources":["D:/git/microservices/inventory-frontend/src/components/Products.js"],"sourcesContent":["import {Wrapper} from \"./Wrapper\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const Products = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await fetch('http://localhost:8000/products');\r\n            const content = await response.json();\r\n            setProducts(content);\r\n        })();\r\n    }, []);\r\n\r\n    const del = async id => {\r\n        if (window.confirm('Are you sure to delete this record?')) {\r\n            await fetch(`http://localhost:8000/products/${id}`, {\r\n                method: 'DELETE'\r\n            });\r\n\r\n            setProducts(products.filter(p => p.id !== id));\r\n        }\r\n    }\r\n\r\n    return <Wrapper>\r\n        <div className=\"pt-3 pb-2 mb-3 border-bottom\">\r\n            <Link to={`/create`} className=\"btn btn-sm btn-outline-secondary\">Add</Link>\r\n        </div>\r\n\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-striped table-sm\">\r\n                <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Name</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Quantity</th>\r\n                    <th scope=\"col\">Actions</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {products.map(product => {\r\n                    return <tr key={product.id}>\r\n                        <td>{product.id}</td>\r\n                        <td>{product.name}</td>\r\n                        <td>{product.price}</td>\r\n                        <td>{product.quantity}</td>\r\n                        <td>\r\n                            <a href=\"#\" className=\"btn btn-sm btn-outline-secondary\"\r\n                               onClick={e => del(product.id)}\r\n                            >\r\n                                Delete\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </Wrapper>\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}