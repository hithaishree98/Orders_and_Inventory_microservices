{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Orders=()=>{const[id,setId]=useState('');const[quantity,setQuantity]=useState('');const[message,setMessage]=useState('Buy your favorite product');useEffect(()=>{(async()=>{try{if(id){const response=await fetch(\"http://localhost:8000/products/\".concat(id));const content=await response.json();const price=parseFloat(content.price)*1.2;setMessage(\"Your product price is $\".concat(price));}}catch(e){setMessage('Buy your favorite product');}})();},[id]);const submit=async e=>{e.preventDefault();await fetch('http://localhost:8001/orders',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id,quantity})});setMessage('Thank you for your order!');};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Checkout form\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:message})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:e=>setId(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",onChange:e=>setQuantity(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-4\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-primary btn-lg\",type:\"submit\",children:\"Buy\"})]})]})});};","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Orders","id","setId","quantity","setQuantity","message","setMessage","response","fetch","concat","content","json","price","parseFloat","e","submit","preventDefault","method","headers","body","JSON","stringify","className","children","onSubmit","onChange","target","value","type"],"sources":["D:/git/microservices/inventory-frontend/src/components/Orders.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\n\r\nexport const Orders = () => {\r\n    const [id, setId] = useState('');\r\n    const [quantity, setQuantity] = useState('');\r\n    const [message, setMessage] = useState('Buy your favorite product');\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                if (id) {\r\n                    const response = await fetch(`http://localhost:8000/products/${id}`);\r\n                    const content = await response.json();\r\n                    const price = parseFloat(content.price) * 1.2;\r\n                    setMessage(`Your product price is $${price}`);\r\n                }\r\n            } catch (e) {\r\n                setMessage('Buy your favorite product')\r\n            }\r\n        })();\r\n\r\n    }, [id]);\r\n\r\n    const submit = async e => {\r\n        e.preventDefault();\r\n\r\n        await fetch('http://localhost:8001/orders', {\r\n            method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({\r\n                id, quantity\r\n            })\r\n        });\r\n\r\n        setMessage('Thank you for your order!');\r\n    }\r\n\r\n    return <div className=\"container\">\r\n        <main>\r\n            <div className=\"py-5 text-center\">\r\n                <h2>Checkout form</h2>\r\n                <p className=\"lead\">{message}</p>\r\n            </div>\r\n\r\n            <form onSubmit={submit}>\r\n                <div className=\"row g-3\">\r\n                    <div className=\"col-sm-6\">\r\n                        <label className=\"form-label\">Product</label>\r\n                        <input className=\"form-control\"\r\n                               onChange={e => setId(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"col-sm-6\">\r\n                        <label className=\"form-label\">Quantity</label>\r\n                        <input type=\"number\" className=\"form-control\"\r\n                               onChange={e => setQuantity(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <hr className=\"my-4\"/>\r\n                <button className=\"w-100 btn btn-primary btn-lg\" type=\"submit\">Buy</button>\r\n            </form>\r\n        </main>\r\n    </div>\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}